<?xml version="1.0"?>
<rss version="2.0">
    <channel>
        <title>陈布衣的博客</title>
        <link>http://buyi.dev</link>
        <description></description>
        <language>zh-CN</language>
        <pubDate>Sat, 13 Dec 2025 11:28:51 +0800</pubDate>
        <lastBuildDate>Sat, 13 Dec 2025 11:28:51 +0800</lastBuildDate>
        <category>关于</category>
        <category>code</category>
        <category>家庭</category>
        <category>小小说</category>
        <category>学校</category>
        <category>cs2</category>
        <category>.net</category>
        <category>游戏</category>
        <category>gmod</category>
        <category>MYSQL</category>
        <category>ssh</category>
        <item>
            <guid isPermalink="true">http://buyi.dev/2025/cs2-plugin-framework-tests/</guid>
            <title>反恐精英2 各插件平台性能简易测试对比</title>
            <link>http://buyi.dev/2025/cs2-plugin-framework-tests/</link>
            <category>cs2</category>
            <pubDate>Sat, 13 Dec 2025 11:28:51 +0800</pubDate>
            <description><![CDATA[ &lt;p&gt;简单对比一下 Counter-Strike 2 各个插件平台的性能。&lt;br&gt;我觉得能逆向能做插件平台的人都好NB。都做出这么多平台了（   &lt;/p&gt;
&lt;p&gt;cs2游戏版本：  14128&lt;br&gt;Metamod 版本：  2.0.0-dev+1374  &lt;/p&gt;
&lt;p&gt;测试的内容很简单，都是制作一个指令，在无人的服务器里，使用 de_inferno 地图。&lt;br&gt;只记录cs2启动后的第一次执行数据，因为多次执行有实体信息缓存机制（   &lt;/p&gt;
&lt;p&gt;获取每个实体的简要属性并组成一个字符串。&lt;br&gt;对每个 info_ 开头的实体 teleport 到目前坐标+一个小 Vector 偏移。&lt;br&gt;生成和 Fire 一个 &lt;code&gt;cs_win_panel_round&lt;/code&gt; GameEvent 。&lt;br&gt;以上循环执行 1000 次，计算总需要的时长。    &lt;/p&gt;
&lt;h1 id=&#34;结果比较&#34;&gt;&lt;a href=&#34;#结果比较&#34; class=&#34;headerlink&#34; title=&#34;结果比较&#34;&gt;&lt;/a&gt;结果比较&lt;/h1&gt;&lt;p&gt;&lt;img src=&#34;/image/cs2_framework_chart1.jpg&#34;&gt;&lt;/p&gt;
&lt;h1 id=&#34;Plugify-S2-Launcher&#34;&gt;&lt;a href=&#34;#Plugify-S2-Launcher&#34; class=&#34;headerlink&#34; title=&#34;Plugify &amp;#x2F; S2-Launcher&#34;&gt;&lt;/a&gt;Plugify &amp;#x2F; S2-Launcher&lt;/h1&gt;&lt;p&gt;&lt;a href=&#34;https://github.com/untrustedmodders/&#34;&gt;github&lt;/a&gt;&lt;br&gt;我按他们的文档试了，但是没法正常运行，就不管了，&lt;br&gt;这包管理做的跟天书一样，感觉好难用。&lt;br&gt;虽然在更新却没有一个 issue ，也没有 star，不知道他们的用户在哪里。  &lt;/p&gt;
&lt;h1 id=&#34;ModSharp&#34;&gt;&lt;a href=&#34;#ModSharp&#34; class=&#34;headerlink&#34; title=&#34;ModSharp&#34;&gt;&lt;/a&gt;ModSharp&lt;/h1&gt;&lt;p&gt;&lt;a href=&#34;https://github.com/Kxnrl/modsharp-public&#34;&gt;github&lt;/a&gt;&lt;br&gt;版本： 2.1.88 （2025-11-22）   &lt;/p&gt;
&lt;figure class=&#34;highlight cs&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;47&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs cs&#34;&gt;&lt;span class=&#34;hljs-comment&#34;&gt;// tt&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;// time: 628 ms. entityCount: 766. infoEntityCount: 44.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-function&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;private&lt;/span&gt; ECommandAction &lt;span class=&#34;hljs-title&#34;&gt;OnTTCommand&lt;/span&gt;(&lt;span class=&#34;hljs-params&#34;&gt;StringCommand command&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&amp;#123;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;var&lt;/span&gt; sw = Stopwatch.StartNew();&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;string&lt;/span&gt; str;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;int&lt;/span&gt; entityCount = &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;int&lt;/span&gt; infoEntityCount = &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;var&lt;/span&gt; entityManager = _sharedSystem.GetEntityManager();&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;var&lt;/span&gt; eventManager = _sharedSystem.GetEventManager();&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;for&lt;/span&gt; (&lt;span class=&#34;hljs-built_in&#34;&gt;int&lt;/span&gt; i = &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;; i &amp;lt; &lt;span class=&#34;hljs-number&#34;&gt;1000&lt;/span&gt;; i++)&lt;br&gt;    &amp;#123;&lt;br&gt;        entityCount = &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;;&lt;br&gt;        infoEntityCount = &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;;&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;var&lt;/span&gt; posAdd = &lt;span class=&#34;hljs-keyword&#34;&gt;new&lt;/span&gt; Vector(i / &lt;span class=&#34;hljs-number&#34;&gt;999.0f&lt;/span&gt;, i / &lt;span class=&#34;hljs-number&#34;&gt;-999.0f&lt;/span&gt;, i / &lt;span class=&#34;hljs-number&#34;&gt;999.0f&lt;/span&gt;);&lt;br&gt;&lt;br&gt;        IBaseEntity? ent = &lt;span class=&#34;hljs-literal&#34;&gt;null&lt;/span&gt;;&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;while&lt;/span&gt; (&lt;span class=&#34;hljs-literal&#34;&gt;true&lt;/span&gt;)&lt;br&gt;        &amp;#123;&lt;br&gt;            ent = entityManager.FindEntityByClassname(ent, &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;*&amp;quot;&lt;/span&gt;);&lt;br&gt;            &lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt; (ent != &lt;span class=&#34;hljs-literal&#34;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; ent.IsValid())&lt;br&gt;            &amp;#123;&lt;br&gt;                entityCount += &lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;;&lt;br&gt;                &lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt; (ent.Classname.StartsWith(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;info_&amp;quot;&lt;/span&gt;))&lt;br&gt;                &amp;#123;&lt;br&gt;                    ent.Teleport(ent.GetAbsOrigin() + posAdd);&lt;br&gt;                    infoEntityCount += &lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;;&lt;br&gt;                &amp;#125;&lt;br&gt;                str = &lt;span class=&#34;hljs-string&#34;&gt;$&amp;quot;&lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;ent.Index&amp;#125;&lt;/span&gt; &lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;ent.Classname&amp;#125;&lt;/span&gt; &lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;ent.Health&amp;#125;&lt;/span&gt; &lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;ent.GetAbsOrigin()&amp;#125;&lt;/span&gt; &lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;ent.GetAbsAngles()&amp;#125;&lt;/span&gt;&amp;quot;&lt;/span&gt;;&lt;br&gt;            &amp;#125;&lt;br&gt;            &lt;span class=&#34;hljs-keyword&#34;&gt;else&lt;/span&gt;&lt;br&gt;            &amp;#123;&lt;br&gt;                &lt;span class=&#34;hljs-keyword&#34;&gt;break&lt;/span&gt;;&lt;br&gt;            &amp;#125;&lt;br&gt;        &amp;#125;&lt;br&gt;&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt; (eventManager.CreateEvent(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;cs_win_panel_round&amp;quot;&lt;/span&gt;, &lt;span class=&#34;hljs-literal&#34;&gt;true&lt;/span&gt;) &lt;span class=&#34;hljs-keyword&#34;&gt;is&lt;/span&gt; IGameEvent e)&lt;br&gt;        &amp;#123;&lt;br&gt;            e.SetString(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;funfact_token&amp;quot;&lt;/span&gt;, &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;aaa bbb ccc&amp;quot;&lt;/span&gt;);&lt;br&gt;            e.Fire(&lt;span class=&#34;hljs-literal&#34;&gt;false&lt;/span&gt;);&lt;br&gt;        &amp;#125;&lt;br&gt;    &amp;#125;&lt;br&gt;    sw.Stop();&lt;br&gt;    Console.WriteLine(&lt;span class=&#34;hljs-string&#34;&gt;$&amp;quot;time: &lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;sw.ElapsedMilliseconds:&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;&amp;#125;&lt;/span&gt; ms. entityCount: &lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;entityCount&amp;#125;&lt;/span&gt;. infoEntityCount: &lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;infoEntityCount&amp;#125;&lt;/span&gt;.&amp;quot;&lt;/span&gt;);&lt;br&gt;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;return&lt;/span&gt; ECommandAction.Stopped;&lt;br&gt;&amp;#125;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h1 id=&#34;SwiftlyS2&#34;&gt;&lt;a href=&#34;#SwiftlyS2&#34; class=&#34;headerlink&#34; title=&#34;SwiftlyS2&#34;&gt;&lt;/a&gt;SwiftlyS2&lt;/h1&gt;&lt;p&gt;&lt;a href=&#34;https://github.com/swiftly-solution/swiftlys2&#34;&gt;github&lt;/a&gt;&lt;br&gt;版本： 1.0.6-beta.14  （2025-12-13）  &lt;/p&gt;
&lt;figure class=&#34;highlight cs&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs cs&#34;&gt;&lt;span class=&#34;hljs-comment&#34;&gt;// sw_tt&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;// 单纯版：  time: 804 ms. entityCount: 767. infoEntityCount: 44.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;// METAMOD 版本： time: 799 ms. entityCount: 767. infoEntityCount: 44.&lt;/span&gt;&lt;br&gt;[&lt;span class=&#34;hljs-meta&#34;&gt;Command(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;tt&amp;quot;&lt;/span&gt;)&lt;/span&gt;]&lt;br&gt;&lt;span class=&#34;hljs-function&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;OnTTCommand&lt;/span&gt;(&lt;span class=&#34;hljs-params&#34;&gt;ICommandContext context&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&amp;#123;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt; (context.IsSentByPlayer) &amp;#123; &lt;span class=&#34;hljs-keyword&#34;&gt;return&lt;/span&gt;; &amp;#125;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;var&lt;/span&gt; sw = Stopwatch.StartNew();&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;string&lt;/span&gt; str;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;int&lt;/span&gt; entityCount = &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;int&lt;/span&gt; infoEntityCount = &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;for&lt;/span&gt; (&lt;span class=&#34;hljs-built_in&#34;&gt;int&lt;/span&gt; i = &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;; i &amp;lt; &lt;span class=&#34;hljs-number&#34;&gt;1000&lt;/span&gt;; i++)&lt;br&gt;    &amp;#123;&lt;br&gt;        entityCount = &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;;&lt;br&gt;        infoEntityCount = &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;;&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;var&lt;/span&gt; posAdd = &lt;span class=&#34;hljs-keyword&#34;&gt;new&lt;/span&gt; Vector(i / &lt;span class=&#34;hljs-number&#34;&gt;999f&lt;/span&gt;, -i / &lt;span class=&#34;hljs-number&#34;&gt;999f&lt;/span&gt;, i / &lt;span class=&#34;hljs-number&#34;&gt;999f&lt;/span&gt;);&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;var&lt;/span&gt; allEnts = Core.EntitySystem.GetAllEntities();&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;foreach&lt;/span&gt; (&lt;span class=&#34;hljs-keyword&#34;&gt;var&lt;/span&gt; e &lt;span class=&#34;hljs-keyword&#34;&gt;in&lt;/span&gt; allEnts)&lt;br&gt;        &amp;#123;&lt;br&gt;            &lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt; (!e.IsValid) &amp;#123; &lt;span class=&#34;hljs-keyword&#34;&gt;continue&lt;/span&gt;; &amp;#125;&lt;br&gt;            entityCount += &lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;;&lt;br&gt;            &lt;span class=&#34;hljs-keyword&#34;&gt;var&lt;/span&gt; ent = e.As&amp;lt;CBaseEntity&amp;gt;();&lt;br&gt;            &lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt; (ent.DesignerName.StartsWith(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;info_&amp;quot;&lt;/span&gt;))&lt;br&gt;            &amp;#123;&lt;br&gt;                ent.Teleport(ent.AbsOrigin! + posAdd, &lt;span class=&#34;hljs-literal&#34;&gt;null&lt;/span&gt;, &lt;span class=&#34;hljs-literal&#34;&gt;null&lt;/span&gt;);&lt;br&gt;                infoEntityCount += &lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;;&lt;br&gt;            &amp;#125;&lt;br&gt;            str = &lt;span class=&#34;hljs-string&#34;&gt;$&amp;quot;&lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;ent.Index&amp;#125;&lt;/span&gt; &lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;ent.DesignerName&amp;#125;&lt;/span&gt; &lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;ent.Health&amp;#125;&lt;/span&gt; &lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;ent.AbsOrigin&amp;#125;&lt;/span&gt; &lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;ent.AbsRotation&amp;#125;&lt;/span&gt;&amp;quot;&lt;/span&gt;;&lt;br&gt;        &amp;#125;&lt;br&gt;        Core.GameEvent.Fire&amp;lt;EventCsWinPanelRound&amp;gt;(ev =&amp;gt;&lt;br&gt;        &amp;#123;&lt;br&gt;            ev.FunfactToken = &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;aaa bbb ccc&amp;quot;&lt;/span&gt;;&lt;br&gt;            ev.DontBroadcast = &lt;span class=&#34;hljs-literal&#34;&gt;false&lt;/span&gt;;&lt;br&gt;        &amp;#125;);&lt;br&gt;    &amp;#125;&lt;br&gt;    sw.Stop();&lt;br&gt;    Console.WriteLine(&lt;span class=&#34;hljs-string&#34;&gt;$&amp;quot;time: &lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;sw.ElapsedMilliseconds:&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;&amp;#125;&lt;/span&gt; ms. entityCount: &lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;entityCount&amp;#125;&lt;/span&gt;. infoEntityCount: &lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;infoEntityCount&amp;#125;&lt;/span&gt;.&amp;quot;&lt;/span&gt;);&lt;br&gt;&amp;#125;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h1 id=&#34;CS2fixes&#34;&gt;&lt;a href=&#34;#CS2fixes&#34; class=&#34;headerlink&#34; title=&#34;CS2fixes&#34;&gt;&lt;/a&gt;CS2fixes&lt;/h1&gt;&lt;p&gt;&lt;a href=&#34;https://github.com/Source2ZE/CS2Fixes&#34;&gt;github&lt;/a&gt;&lt;br&gt;严格意义上这不算是个插件平台，给原版 cs2fixes 加了一点代码。&lt;br&gt;版本：  v1.16.6  （2025-12-06）   &lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;45&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs c++&#34;&gt;&lt;span class=&#34;hljs-comment&#34;&gt;// c_tt &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;// time: 546 ms. entityCount: 767. infoEntityCount: 44.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-built_in&#34;&gt;CON_COMMAND_CHAT_FLAGS&lt;/span&gt;(tt, &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;test&amp;quot;&lt;/span&gt;, ADMFLAG_GENERIC)&lt;br&gt;&amp;#123;&lt;br&gt;	&lt;span class=&#34;hljs-keyword&#34;&gt;auto&lt;/span&gt; start = std::chrono::high_resolution_clock::&lt;span class=&#34;hljs-built_in&#34;&gt;now&lt;/span&gt;();&lt;br&gt;	&lt;span class=&#34;hljs-type&#34;&gt;char&lt;/span&gt; str[&lt;span class=&#34;hljs-number&#34;&gt;1023&lt;/span&gt;];&lt;br&gt;	&lt;span class=&#34;hljs-type&#34;&gt;int&lt;/span&gt; entityCount = &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;;&lt;br&gt;	&lt;span class=&#34;hljs-type&#34;&gt;int&lt;/span&gt; infoEntityCount = &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;;&lt;br&gt;	&lt;span class=&#34;hljs-keyword&#34;&gt;auto&lt;/span&gt; prefix = &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;info_&amp;quot;&lt;/span&gt;;&lt;br&gt;	&lt;span class=&#34;hljs-keyword&#34;&gt;for&lt;/span&gt; (&lt;span class=&#34;hljs-type&#34;&gt;size_t&lt;/span&gt; i = &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;; i &amp;lt; &lt;span class=&#34;hljs-number&#34;&gt;1000&lt;/span&gt;; i++)&lt;br&gt;	&amp;#123;&lt;br&gt;		Vector* posAdd = &lt;span class=&#34;hljs-keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;hljs-built_in&#34;&gt;Vector&lt;/span&gt;(i / &lt;span class=&#34;hljs-number&#34;&gt;999.0f&lt;/span&gt;, i / &lt;span class=&#34;hljs-number&#34;&gt;-999.0f&lt;/span&gt;, i / &lt;span class=&#34;hljs-number&#34;&gt;999.0f&lt;/span&gt;);&lt;br&gt;&lt;br&gt;		entityCount = &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;;&lt;br&gt;		infoEntityCount = &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;;&lt;br&gt;		&lt;span class=&#34;hljs-keyword&#34;&gt;auto&lt;/span&gt; iter = &lt;span class=&#34;hljs-keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;hljs-built_in&#34;&gt;EntityInstanceIter_t&lt;/span&gt;();&lt;br&gt;		&lt;span class=&#34;hljs-keyword&#34;&gt;while&lt;/span&gt; (&lt;span class=&#34;hljs-literal&#34;&gt;true&lt;/span&gt;)&lt;br&gt;		&amp;#123;&lt;br&gt;			&lt;span class=&#34;hljs-keyword&#34;&gt;auto&lt;/span&gt; e = iter-&amp;gt;&lt;span class=&#34;hljs-built_in&#34;&gt;Next&lt;/span&gt;();&lt;br&gt;			&lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt; (!e) &lt;span class=&#34;hljs-keyword&#34;&gt;break&lt;/span&gt;;&lt;br&gt;			&lt;span class=&#34;hljs-keyword&#34;&gt;auto&lt;/span&gt; ent = &lt;span class=&#34;hljs-built_in&#34;&gt;reinterpret_cast&lt;/span&gt;&amp;lt;CBaseEntity*&amp;gt;(e);&lt;br&gt;			&lt;span class=&#34;hljs-keyword&#34;&gt;auto&lt;/span&gt; origin = ent-&amp;gt;&lt;span class=&#34;hljs-built_in&#34;&gt;GetAbsOrigin&lt;/span&gt;();&lt;br&gt;			&lt;span class=&#34;hljs-keyword&#34;&gt;auto&lt;/span&gt; angle = ent-&amp;gt;&lt;span class=&#34;hljs-built_in&#34;&gt;GetAbsRotation&lt;/span&gt;();&lt;br&gt;			&lt;span class=&#34;hljs-keyword&#34;&gt;auto&lt;/span&gt; cls = ent-&amp;gt;&lt;span class=&#34;hljs-built_in&#34;&gt;GetClassname&lt;/span&gt;();&lt;br&gt;			&lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt; (&lt;span class=&#34;hljs-built_in&#34;&gt;strncmp&lt;/span&gt;(cls, prefix, &lt;span class=&#34;hljs-built_in&#34;&gt;strlen&lt;/span&gt;(prefix)) == &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;)&lt;br&gt;			&amp;#123;&lt;br&gt;				origin.x += posAdd-&amp;gt;x;&lt;br&gt;				origin.y += posAdd-&amp;gt;y;&lt;br&gt;				origin.z += posAdd-&amp;gt;z;&lt;br&gt;				ent-&amp;gt;&lt;span class=&#34;hljs-built_in&#34;&gt;Teleport&lt;/span&gt;(&amp;amp;origin, &lt;span class=&#34;hljs-literal&#34;&gt;nullptr&lt;/span&gt;, &lt;span class=&#34;hljs-literal&#34;&gt;nullptr&lt;/span&gt;);&lt;br&gt;				infoEntityCount += &lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;;&lt;br&gt;			&amp;#125;&lt;br&gt;			entityCount += &lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;;&lt;br&gt;			&lt;span class=&#34;hljs-built_in&#34;&gt;V_snprintf&lt;/span&gt;(str, &lt;span class=&#34;hljs-built_in&#34;&gt;sizeof&lt;/span&gt;(str), &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;%d %s %d pos:%f %f %f ang: %f %f %f&amp;quot;&lt;/span&gt;, ent-&amp;gt;&lt;span class=&#34;hljs-built_in&#34;&gt;GetEntityIndex&lt;/span&gt;().&lt;span class=&#34;hljs-built_in&#34;&gt;Get&lt;/span&gt;(), cls, ent-&amp;gt;&lt;span class=&#34;hljs-built_in&#34;&gt;m_iHealth&lt;/span&gt;(), origin.x, origin.y, origin.z, angle.x, angle.y, angle.z);&lt;br&gt;		&amp;#125;&lt;br&gt;&lt;br&gt;		IGameEvent* pEvent = g_gameEventManager-&amp;gt;&lt;span class=&#34;hljs-built_in&#34;&gt;CreateEvent&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;cs_win_panel_round&amp;quot;&lt;/span&gt;);&lt;br&gt;		&lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt; (!pEvent) &lt;span class=&#34;hljs-keyword&#34;&gt;return&lt;/span&gt;;&lt;br&gt;		pEvent-&amp;gt;&lt;span class=&#34;hljs-built_in&#34;&gt;SetString&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;funfact_token&amp;quot;&lt;/span&gt;, &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;aaa bbb ccc&amp;quot;&lt;/span&gt;);&lt;br&gt;		g_gameEventManager-&amp;gt;&lt;span class=&#34;hljs-built_in&#34;&gt;FireEvent&lt;/span&gt;(pEvent, &lt;span class=&#34;hljs-literal&#34;&gt;false&lt;/span&gt;);&lt;br&gt;	&amp;#125;&lt;br&gt;	&lt;span class=&#34;hljs-keyword&#34;&gt;auto&lt;/span&gt; end = std::chrono::high_resolution_clock::&lt;span class=&#34;hljs-built_in&#34;&gt;now&lt;/span&gt;();&lt;br&gt;	&lt;span class=&#34;hljs-keyword&#34;&gt;auto&lt;/span&gt; duration_ms = std::chrono::&lt;span class=&#34;hljs-built_in&#34;&gt;duration_cast&lt;/span&gt;&amp;lt;std::chrono::milliseconds&amp;gt;(end - start);&lt;br&gt;	&lt;span class=&#34;hljs-built_in&#34;&gt;Message&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;time: %d ms. entityCount: %d. infoEntityCount: %d.\n&amp;quot;&lt;/span&gt;, duration_ms.&lt;span class=&#34;hljs-built_in&#34;&gt;count&lt;/span&gt;(), entityCount, infoEntityCount);&lt;br&gt;&amp;#125;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h1 id=&#34;CounterStrikeSharp&#34;&gt;&lt;a href=&#34;#CounterStrikeSharp&#34; class=&#34;headerlink&#34; title=&#34;CounterStrikeSharp&#34;&gt;&lt;/a&gt;CounterStrikeSharp&lt;/h1&gt;&lt;p&gt;&lt;a href=&#34;https://github.com/roflmuffin/CounterStrikeSharp&#34;&gt;github&lt;/a&gt;&lt;br&gt;版本： v1.0.349 （2025-12-12）   &lt;/p&gt;
&lt;figure class=&#34;highlight cs&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs cs&#34;&gt;&lt;span class=&#34;hljs-comment&#34;&gt;// tt  1.5  -2.5  3.5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;// time: 2298 ms. entityCount: 767. infoEntityCount: 44.&lt;/span&gt;&lt;br&gt;[&lt;span class=&#34;hljs-meta&#34;&gt;ConsoleCommand(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;tt&amp;quot;&lt;/span&gt;)&lt;/span&gt;]&lt;br&gt;&lt;span class=&#34;hljs-function&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;hljs-title&#34;&gt;CommandTT&lt;/span&gt;(&lt;span class=&#34;hljs-params&#34;&gt;CCSPlayerController? caller, CommandInfo command&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&amp;#123;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt; (caller != &lt;span class=&#34;hljs-literal&#34;&gt;null&lt;/span&gt;) &amp;#123; &lt;span class=&#34;hljs-keyword&#34;&gt;return&lt;/span&gt;; &amp;#125;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;var&lt;/span&gt; sw = Stopwatch.StartNew();&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;string&lt;/span&gt; str;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;int&lt;/span&gt; entityCount = &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;int&lt;/span&gt; infoEntityCount = &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;for&lt;/span&gt; (&lt;span class=&#34;hljs-built_in&#34;&gt;int&lt;/span&gt; i = &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;; i &amp;lt; &lt;span class=&#34;hljs-number&#34;&gt;1000&lt;/span&gt;; i++)&lt;br&gt;    &amp;#123;&lt;br&gt;        entityCount = &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;;&lt;br&gt;        infoEntityCount = &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;;&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;var&lt;/span&gt; posAdd = &lt;span class=&#34;hljs-keyword&#34;&gt;new&lt;/span&gt; Vector(i / &lt;span class=&#34;hljs-number&#34;&gt;999.0f&lt;/span&gt;, i / &lt;span class=&#34;hljs-number&#34;&gt;-999.0f&lt;/span&gt;, i / &lt;span class=&#34;hljs-number&#34;&gt;999.0f&lt;/span&gt;);&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;foreach&lt;/span&gt; (&lt;span class=&#34;hljs-keyword&#34;&gt;var&lt;/span&gt; e &lt;span class=&#34;hljs-keyword&#34;&gt;in&lt;/span&gt; Utilities.GetAllEntities())&lt;br&gt;        &amp;#123;&lt;br&gt;            &lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt; (!e.IsValid) &amp;#123; &lt;span class=&#34;hljs-keyword&#34;&gt;continue&lt;/span&gt;; &amp;#125;&lt;br&gt;            entityCount += &lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;;&lt;br&gt;            &lt;span class=&#34;hljs-keyword&#34;&gt;var&lt;/span&gt; ent = e.As&amp;lt;CBaseEntity&amp;gt;();&lt;br&gt;            &lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt; (ent.DesignerName.StartsWith(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;info_&amp;quot;&lt;/span&gt;))&lt;br&gt;            &amp;#123;&lt;br&gt;                ent.Teleport(ent.AbsOrigin! + posAdd);&lt;br&gt;                infoEntityCount += &lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;;&lt;br&gt;            &amp;#125;&lt;br&gt;            str = &lt;span class=&#34;hljs-string&#34;&gt;$&amp;quot;&lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;ent.Index&amp;#125;&lt;/span&gt; &lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;ent.DesignerName&amp;#125;&lt;/span&gt; &lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;ent.Health&amp;#125;&lt;/span&gt; &lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;ent.AbsOrigin&amp;#125;&lt;/span&gt; &lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;ent.AbsRotation&amp;#125;&lt;/span&gt;&amp;quot;&lt;/span&gt;;&lt;br&gt;        &amp;#125;&lt;br&gt;&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;var&lt;/span&gt; ev = &lt;span class=&#34;hljs-keyword&#34;&gt;new&lt;/span&gt; EventCsWinPanelRound(&lt;span class=&#34;hljs-literal&#34;&gt;true&lt;/span&gt;);&lt;br&gt;        ev.FunfactToken = &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;aaa bbb ccc&amp;quot;&lt;/span&gt;;&lt;br&gt;        ev.FireEvent(&lt;span class=&#34;hljs-literal&#34;&gt;false&lt;/span&gt;);&lt;br&gt;    &amp;#125;&lt;br&gt;    sw.Stop();&lt;br&gt;    Console.WriteLine(&lt;span class=&#34;hljs-string&#34;&gt;$&amp;quot;time: &lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;sw.ElapsedMilliseconds:&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;&amp;#125;&lt;/span&gt; ms. entityCount: &lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;entityCount&amp;#125;&lt;/span&gt;. infoEntityCount: &lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;infoEntityCount&amp;#125;&lt;/span&gt;.&amp;quot;&lt;/span&gt;);&lt;br&gt;&amp;#125;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">http://buyi.dev/2025/ffmpegui/</guid>
            <title>我的 FFMPEG UI</title>
            <link>http://buyi.dev/2025/ffmpegui/</link>
            <category>code</category>
            <category>.net</category>
            <pubDate>Thu, 25 Sep 2025 14:34:09 +0800</pubDate>
            <description><![CDATA[ &lt;p&gt;我试用了几个 FFMPEG 的 gui 软件，发现他们都不能做到套着文件夹结构进行转码工作。&lt;br&gt;比如我有一些图片文件，结构化的分布在多个层级的文件夹里，他们就做不到什么结构进去，什么结构出来。&lt;br&gt;对这些一般般的 GUI 来说，他们只能统一输出到另外一个地方。&lt;br&gt;就算可以输出到原文件夹，也会给文件名加上奇奇怪怪的后缀。&lt;br&gt;而且这些 GUI 的操作手感都不好。   &lt;/p&gt;
&lt;p&gt;最初我还可以用 ps1 写脚本糊弄一下，后面用的越来越频繁。我就自己做了一个简易轮子。&lt;br&gt;支持什么文件夹结构进，什么文件夹结构出。&lt;br&gt;参数全靠自己写。然后保存成模板。&lt;br&gt;也没有转码进度显示，就是个纯粹的 .bat 生成和呼叫工具。   &lt;/p&gt;
&lt;p&gt;我记得我用了某某软件，他就死脑筋的单线程转码一堆图片，&lt;br&gt;然后比如说我要转码到 webp 。但是有 1.jpg 和 1.png 同时存在，&lt;br&gt;他会转码到半路上，才会报错 1.webp 已经存在，然后也进行不下去了，半途而废了。&lt;br&gt;我的 UI 会只转码修改时间最新的那个，并且开始工作的时候就已经会提出警报了。   &lt;/p&gt;
&lt;p&gt;我还试用过另外一个开源 GUI ，他那个多任务同时管理有 BUG ，&lt;br&gt;我同时多开一点就报错到死掉。太笨了，我也懒得给他发 issue 。&lt;br&gt;而我这个简简单单，多少个任务同时进行，就生成多少个 .bat 文件，然后同时把他们运行起来就完事了。&lt;br&gt;如果有安装 windows Terminal 可嵌入到一个窗口里的多个标签页。&lt;br&gt;cmd 窗口的标题会显示一个简易的进度。   &lt;/p&gt;
&lt;p&gt;源码：&lt;br&gt;&lt;a href=&#34;https://github.com/chenbuyi2019/BuyiFFmpegUI&#34;&gt;https://github.com/chenbuyi2019/BuyiFFmpegUI&lt;/a&gt;   &lt;/p&gt;
&lt;p&gt;截图：&lt;br&gt;&lt;img src=&#34;/image/ffmpegui.webp&#34;&gt;   &lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">http://buyi.dev/2025/postmarks-km/</guid>
            <title>集齐了昆明14个区县的邮戳</title>
            <link>http://buyi.dev/2025/postmarks-km/</link>
            <pubDate>Wed, 02 Jul 2025 13:28:22 +0800</pubDate>
            <description><![CDATA[ &lt;p&gt;我是一个昆明人，我自豪。&lt;br&gt;昆明一共有14个区县，每个我都去了一趟，并盖戳留念。   &lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/image/postmarks_km.webp&#34;&gt;  &lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">http://buyi.dev/2025/yzgz/</guid>
            <title>制作遗嘱公证的经历</title>
            <link>http://buyi.dev/2025/yzgz/</link>
            <category>家庭</category>
            <pubDate>Wed, 12 Mar 2025 16:03:34 +0800</pubDate>
            <description><![CDATA[ &lt;p&gt;布衣在几个月之前制作了一份遗嘱公证，公证费花了一千多。&lt;br&gt;下面在此分享一下我制作遗嘱公证的经历。&lt;/p&gt;
&lt;p&gt;布衣制作公证遗嘱的主要目的，是为了不让血亲拿到我的财富。&lt;br&gt;把我的财富留给我信任的人，而不是打了我骂了我十几年的人。&lt;/p&gt;
&lt;p&gt;我故意拖了几个月才写这篇文章，免得你们以为我想不开了。&lt;/p&gt;
&lt;p&gt;注意，本文不适用于结婚过的人，公证处的人和我说了，&lt;br&gt;理论上，一旦你结婚了，你原来的钱还是你的，结婚后获得的钱都算是“夫妻共同财产”。&lt;br&gt;夫妻共同财产办理遗嘱，可就不是你一个人的事情啦。&lt;br&gt;如果你是离婚了，就带上离婚证吧。希望你没有未结清的财产分割官司。&lt;/p&gt;
&lt;h1 id=&#34;寻找公证处&#34;&gt;&lt;a href=&#34;#寻找公证处&#34; class=&#34;headerlink&#34; title=&#34;寻找公证处&#34;&gt;&lt;/a&gt;寻找公证处&lt;/h1&gt;&lt;p&gt;正规的公证处是在司法机关那边有备案的，&lt;br&gt;所有公证处做了的公证，法院、司法部门可以直接内部查到。&lt;/p&gt;
&lt;p&gt;要明白，公证不等于一劳永逸，&lt;br&gt;公证的内容可能有错、有假、有疏忽，但是法院好查好认，就是方便了你以后打官司。&lt;/p&gt;
&lt;p&gt;找公证处可以直接去 &lt;a href=&#34;https://www.12348.gov.cn/#/publicies/notarization/notarization&#34;&gt;12348&lt;/a&gt; 。&lt;br&gt;然后先打电话问问，办个遗嘱公证要多少钱，几点开门接待之类的。 &lt;/p&gt;
&lt;h1 id=&#34;钱留给谁的问题&#34;&gt;&lt;a href=&#34;#钱留给谁的问题&#34; class=&#34;headerlink&#34; title=&#34;钱留给谁的问题&#34;&gt;&lt;/a&gt;钱留给谁的问题&lt;/h1&gt;&lt;p&gt;分清楚，&lt;br&gt;法定继承人以内的，一律叫继承人。比如父母配偶儿女。&lt;br&gt;法定继承人以外的，一律叫受遗赠人。&lt;br&gt;我就是把财富全部留给受遗赠人。&lt;/p&gt;
&lt;p&gt;有个很大的区别，一旦你死了，有&lt;strong&gt;60天的时间&lt;/strong&gt;，&lt;br&gt;继承人如果60日内不主动声明放弃遗产，他自动视为接受遗产。&lt;br&gt;遗赠人如果60日内不主动声明接受，他自动视为放弃。&lt;/p&gt;
&lt;p&gt;也就是说，如果我死了，&lt;br&gt;我父母没主动放弃，我信任的人也没主动来接受，那就等于我白立遗嘱了，钱可以合法给父母了。&lt;/p&gt;
&lt;p&gt;钱怎么分配是个问题，&lt;br&gt;你是要几个人按什么比例分配呢，&lt;br&gt;还是要指定第一人第二人，第一人活着就全给第一人，他死了就全给第二人。&lt;/p&gt;
&lt;p&gt;然后可以指定或不指定一个&lt;strong&gt;遗嘱执行人&lt;/strong&gt;，执行人负责执行、监督你遗产的分配。&lt;br&gt;他可以不参与钱的分配。&lt;br&gt;比如你指定朋友A，他负责把钱平分给 B 和 C 。&lt;/p&gt;
&lt;p&gt;你也可以选择把遗产全部给慈善基金。&lt;br&gt;这种情况就一定需要一个执行人，不然谁来把你的钱打给慈善基金呢。&lt;br&gt;如果就烂在银行里面了，遗产最终收归国家所有。&lt;/p&gt;
&lt;p&gt;还有个问题是 &lt;strong&gt;必留份制度&lt;/strong&gt;。这是《民法典》里明文要求的。&lt;br&gt;如果你死的时候，你的法定继承人里，比如父母配偶儿女里有人是没有经济来源的，&lt;br&gt;比如你先死了，你父母还活着，还没有收入，也没有养老金。&lt;br&gt;你父母可以提起诉讼，要求“分他一份”。&lt;br&gt;但是基本上我们不考虑这个问题，因为大部分情况下还是他们先死。我也不结婚生子。&lt;/p&gt;
&lt;h1 id=&#34;准备&#34;&gt;&lt;a href=&#34;#准备&#34; class=&#34;headerlink&#34; title=&#34;准备&#34;&gt;&lt;/a&gt;准备&lt;/h1&gt;&lt;p&gt;&lt;strong&gt;身份证、户口簿原件&lt;/strong&gt;，&lt;br&gt;如果你拿不出户口簿，可以和公证处争取一下能不能直接给你办。&lt;br&gt;我辛辛苦苦从父母手里迁出户口，就是为了爽这一下。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;财富证明&lt;/strong&gt;&lt;br&gt;找银行盖章写下定期存款、活期存款、理财基金等（不用冻结的证明）&lt;br&gt;这个盖章证明最好要写姓名、身份证、你的卡号，有发卡行名字更好。&lt;br&gt;银行以外的财富我不知道怎么做，我也没有车或房。&lt;/p&gt;
&lt;p&gt;你最好有足够多的钱可以继承，钱越少办遗嘱的意义越小。&lt;/p&gt;
&lt;p&gt;微信支付宝的余额，我不知道怎么办证明。&lt;br&gt;其他虚拟的，比如QQ号微信号、穿越火线库存，你最好就别写了，&lt;br&gt;你想证明这号是属于你的，还真不容易。&lt;br&gt;总不能跑去腾讯公司给你盖章吧。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;信心&lt;/strong&gt;&lt;br&gt;你不能看起来像被人逼着受胁迫的，&lt;br&gt;你也不能看起来精神不正常。&lt;br&gt;去公证处的时候穿好一点，要录音录像的。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;充足的时间&lt;/strong&gt;&lt;br&gt;建议第一次去公证处问清楚，加个电话或微信，&lt;br&gt;然后预约，办个公证要花几个小时的。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;遗赠人的身份证复印件&lt;/strong&gt;&lt;br&gt;需要提供继承人、受遗赠人的身份证的复印件，我去的公证处说用照片也可以。&lt;br&gt;因为到时候公证要写谁、身份证号码多少，可以拿这个财产。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;遗体骨灰怎么办&lt;/strong&gt;&lt;br&gt;我就写了个 &lt;em&gt;丧事简办，不准把我的遗体带到浙江&lt;/em&gt; 。&lt;br&gt;白纸黑字的写了，死也不会回老家。&lt;/p&gt;
&lt;h1 id=&#34;办理过程&#34;&gt;&lt;a href=&#34;#办理过程&#34; class=&#34;headerlink&#34; title=&#34;办理过程&#34;&gt;&lt;/a&gt;办理过程&lt;/h1&gt;&lt;p&gt;带上这些材料到了公证处，准备办事，告诉工作人员，所有你要说明的情况。&lt;br&gt;工作人员会引导你，问你钱给谁，遗体怎么办。&lt;br&gt;然后为你草拟一份遗嘱，打出来给你看，问你要不要修改。&lt;/p&gt;
&lt;p&gt;一定要仔细看，校对一下每个身份证号码。&lt;br&gt;修改完成之后，这就是你的正式遗嘱了。&lt;/p&gt;
&lt;p&gt;大概就是&lt;/p&gt;
&lt;figure class=&#34;highlight txt&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs txt&#34;&gt;我，谁谁谁，身份证多少，&lt;br&gt;今天来订立遗嘱分配的我合法财产。&lt;br&gt;我订立遗嘱时，清醒，没有受欺骗或胁迫。&lt;br&gt;我现在 x 岁，至今未婚。&lt;br&gt;&lt;br&gt;我现在有财产多少多少，皆为我合法所得。&lt;br&gt;具体财产有 xx银行，卡号11111， xxxx 元。&lt;br&gt;还有 xx银行，卡号2222， xxxx 元。&lt;br&gt;还有 xx银行，卡号3333， xxxx 元。&lt;br&gt;以最终卡内实际余额为准&lt;br&gt;&lt;br&gt;我指定甲，身份证aaaaaa，在我死后接受我的遗产。&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;然后你同意之后，要做&lt;strong&gt;笔录&lt;/strong&gt; ，&lt;br&gt;工作人员会问你，今天为什么来立遗嘱，有人陪同吗，他和你什么关系。&lt;br&gt;你的家庭情况怎么样，是否有无经济来源的家人。&lt;br&gt;为什么选择把钱遗赠给你的朋友而不是家人。&lt;br&gt;之类的问题。&lt;br&gt;笔录会打字记录下来，然后给你看过，也要仔细看，然后有觉得不喜欢的，就要求改。&lt;br&gt;对你自己不利的，就不说或不写，可以没关系。&lt;/p&gt;
&lt;p&gt;接下来是&lt;strong&gt;录音录像&lt;/strong&gt;环节。&lt;br&gt;你和两个公证员进入一个房间，房间里有多个摄像头、录音机，&lt;br&gt;刚刚的笔录会重新口头问你一次，你重新说一遍就可以了。&lt;br&gt;所以说，为什么要有自信。&lt;br&gt;因为假如我死后，家里人要来争遗产，&lt;br&gt;到了法院，公证处出示了录音录像，完全可以证明我活着立遗嘱的时候是自信清醒坚决的。&lt;/p&gt;
&lt;p&gt;然后要把遗嘱从头到尾一个字一个字地念一遍，念清楚。包括身份证数字、卡号等。&lt;br&gt;让公证员以及未来看录像的人知道，你是完全清醒知晓的。&lt;/p&gt;
&lt;p&gt;接下来要签字、按手印，也是在录像和公证员面前操作。&lt;br&gt;要按十指的全部手印。&lt;br&gt;如果未来有人拿出遗嘱说你写的提出异议，方便司法鉴定这张纸是不是你写的。&lt;/p&gt;
&lt;p&gt;最后会问你有没有什么话，想对未来的人说，&lt;br&gt;我说：“我来立遗嘱，是因为我受了家暴，我不会你们容忍打了我还拿了我的钱的。”&lt;/p&gt;
&lt;p&gt;遗嘱内容、录音录像在你去世前是保密的，公证处不会向任何人透露遗嘱内容，&lt;br&gt;除非有你的授权或司法部门要求。&lt;br&gt;当时接待我的工作人员说，有一些人立遗嘱就是不和家里人说的，生怕家里人知道。&lt;/p&gt;
&lt;h1 id=&#34;未来钱变动了怎么办&#34;&gt;&lt;a href=&#34;#未来钱变动了怎么办&#34; class=&#34;headerlink&#34; title=&#34;未来钱变动了怎么办&#34;&gt;&lt;/a&gt;未来钱变动了怎么办&lt;/h1&gt;&lt;p&gt;公证遗嘱有个情况就是&lt;strong&gt;金额确定&lt;/strong&gt;，&lt;br&gt;比如你立遗嘱的时候财富是50万元，那么你死的时候是150万元。&lt;br&gt;就算你写了“以最终卡里实际余额为准”，可能依然会有问题。&lt;br&gt;因为法院可能觉得 “你的遗嘱只分配了这50万，后面新出来的100万，你没分配”。&lt;/p&gt;
&lt;p&gt;所以当财富有大幅度变动的时候，可以去公证处重新立一份遗嘱。&lt;br&gt;但是一旦立一份遗嘱，就得同时写上声明，老遗嘱作废，&lt;br&gt;而且花的手续费是一模一样多甚至更多，流程是一模一样麻烦。&lt;/p&gt;
&lt;p&gt;我觉得可以采用自书遗嘱和公证遗嘱搭配的方式，&lt;br&gt;比如我还年轻，每5年立一份新的公证的，当中的每1年写次自书遗嘱说明下情况。&lt;br&gt;自书的遗嘱直接模仿格式，写上我现在钱多少，最后写上“按之前xxx号公证遗嘱所述分配给甲乙丙”。&lt;br&gt;但是千万不能写出前后冲突的内容。且一定要注意格式。&lt;br&gt;而且每次写了新自书遗嘱，老的自书要销毁掉。&lt;/p&gt;
&lt;p&gt;假如你改变想法了，觉得要换继承人，该去公证处立新的就立新的，老的也务必带上声明作废。&lt;br&gt;最好保持一贯性，找过一家公证处办事了，以后就都去这个公证处。&lt;/p&gt;
&lt;h1 id=&#34;人死后怎么做&#34;&gt;&lt;a href=&#34;#人死后怎么做&#34; class=&#34;headerlink&#34; title=&#34;人死后怎么做&#34;&gt;&lt;/a&gt;人死后怎么做&lt;/h1&gt;&lt;p&gt;叫你的继承人、受赠人，到公证处，带上身份证和你的死亡证明，声明接受遗产，报上你的遗嘱公证编号。&lt;br&gt;这就相当于又要开一个“接受遗赠”公证了，就是“我接受了你的遗产”的意思。&lt;/p&gt;
&lt;p&gt;公证处的人和我说的就是这么个意思。&lt;br&gt;这个具体怎么做，真得我死了才知道了。&lt;/p&gt;
&lt;p&gt;至于能不能顺利把钱从银行里转出来，银行是否一看公证书就承认，就看未来人的本事了。&lt;br&gt;如果银行直接承认，钱直接取走。&lt;br&gt;不承认，就得起诉银行，法院判了给钱，银行就得给钱。&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">http://buyi.dev/2025/cs2-mdmp-view/</guid>
            <title>反恐精英2 mdmp 文件里内嵌日志的解读</title>
            <link>http://buyi.dev/2025/cs2-mdmp-view/</link>
            <category>cs2</category>
            <pubDate>Sat, 01 Mar 2025 19:39:04 +0800</pubDate>
            <description><![CDATA[ &lt;p&gt;cs2.exe 崩溃之后，有概率生成 mdmp 文件，之前我只用 Visual Studio 和 windbg 去打开 mdmp 文件。&lt;br&gt;都没有发挥出 mdmp 文件的真实价值。   &lt;/p&gt;
&lt;p&gt;与其打开 Visual Studio 或 windbg 在那瞎猜，不如直接用代码编辑器打开（甚至记事本）。&lt;br&gt;然后搜索文本 &lt;code&gt;Console History (reversed)&lt;/code&gt; ，这样就可以看到一大段明文日志。&lt;br&gt;这个日志是新的在前面，老的在后面进行排布的。 &lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs log&#34;&gt;Console History (reversed)&lt;br&gt;&lt;br&gt;2852(200.822541):  FATAL ERROR: attempting to render with error material for &amp;#x27;materials/error.vmat&amp;#x27;&lt;br&gt;2851(200.822512):  FATAL ERROR: attempting to render with error material for &amp;#x27;materials/error.vmat&amp;#x27;&lt;br&gt;2850(200.822495):  FATAL ERROR: attempting to render with error material for &amp;#x27;materials/error.vmat&amp;#x27;&lt;br&gt;2849(200.822487):  FATAL ERROR: attempting to render with error material for &amp;#x27;materials/error.vmat&amp;#x27;&lt;br&gt;2848(200.822467):  FATAL ERROR: attempting to render with error material for &amp;#x27;materials/error.vmat&amp;#x27;&lt;br&gt;2847(200.822231):  Sending Steam API content notification&lt;br&gt;2846(200.822209):  C:\buildworker\csgo_rel_win64\build\src\filesystem\basefilesystem.cpp (7062) : AssertMsg Failed in function CBaseFileSystem::MarkContentCorrupt():&lt;br&gt;Content being marked corrupt.  bMissingFilesOnly = false, pFile specified as &amp;#x27;NULL&amp;#x27;, reason: &amp;#x27;FATAL ERROR: attempting to render with error material for &amp;#x27;materials/error.vmat&amp;#x27;&amp;#x27;&lt;br&gt;2845(200.822203):  Sending Steam API content notification&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;如上文我们遇到的是 &lt;code&gt;materials/error.vmat&lt;/code&gt;&lt;br&gt;这是个非常司马的难题，因为 cs2 遇到丢失的 vmat 贴图它不会忽略、也不会在 UI 里告诉你丢失了什么，&lt;br&gt;它只会弹出这个该死的弹窗。&lt;br&gt;然后强制启动 steam 的验证游戏完整性，逼你等上几分钟才能重启游戏。&lt;br&gt;在这里有个比较快的定位丢失文件的办法，就是从 mdmp 提供的日志里查看。&lt;br&gt;从日志的文本里搜索正则 &lt;code&gt;Failed loading resource .+\.vmat_c&lt;/code&gt; 就可以直接看见到底哪个 &lt;code&gt;.vmat_c&lt;/code&gt; 丢失了。&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs log&#34;&gt;2252(194.518007):   [ExG积分商城] 你得到了 4 积分：僵尸通关&lt;br&gt;2251(193.816209):  Failed loading resource &amp;quot;knif/kukri_beast.vmat_c&amp;quot; (ERROR_FILEOPEN: File not found)&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;在实战中，这个办法的用途也没有想象中的大，针对 error.vmat 难题是够用了。&lt;br&gt;可以快速从玩家闪退提供的文件里找到问题来源。以及一些可能的地图 IO 类导致的服务器崩溃。&lt;br&gt;使用插件特地实现的一些崩溃， mdmp 日志能提供的帮助反而较少。&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">http://buyi.dev/2025/if-with-family-again/</guid>
            <title>打油诗：假如再和父母住在一起</title>
            <link>http://buyi.dev/2025/if-with-family-again/</link>
            <category>家庭</category>
            <pubDate>Tue, 25 Feb 2025 16:58:35 +0800</pubDate>
            <description><![CDATA[ &lt;p&gt;假如再和父母住在一起，我要剁掉我的双手。&lt;br&gt;因为这是一双会挣钱的手。&lt;br&gt;因为父母说这是一双写字难看，只会打游戏的手。&lt;br&gt;因为父母说这是一双不会种菜，也不会做饭的笨手。&lt;br&gt;（父母没教会我怎么挣钱）&lt;/p&gt;
&lt;p&gt;假如再和父母住在一起，我要砍去我的双脚。&lt;br&gt;因为这是一双学会了骑车的脚。&lt;br&gt;因为这是一双走过南闯过北的脚，是一双体验过自由的脚。&lt;br&gt;因为父母说这是一双只会宅在家里的脚。&lt;br&gt;（父母没教会我骑车，要求我只在老家不去外地）&lt;/p&gt;
&lt;p&gt;假如再和父母住在一起，我要挖去我的双眼。&lt;br&gt;因为这是一双看清父母真相的眼。&lt;br&gt;因为父母说这是一双只会看电子屏幕的眼。&lt;/p&gt;
&lt;p&gt;假如再和父母住在一起，我要砍下我的双耳。&lt;br&gt;因为这是一对听过不同意见的耳。&lt;br&gt;因为父母说这是一对不听话的没用的耳。&lt;/p&gt;
&lt;p&gt;假如再和父母住在一起，我要拔掉我的舌头。&lt;br&gt;因为这是一张说出父母真相的嘴。&lt;br&gt;因为父母说这是一张挑食的嘴。&lt;br&gt;因为父母说这是一张说不出好听的话，只会顶撞长辈的狗嘴。&lt;br&gt;（父母说我狗嘴里吐不出象牙）&lt;/p&gt;
&lt;p&gt;假如再和父母住在一起，我要拔光我的牙齿。&lt;br&gt;因为这是一口没有蛀牙的牙齿。&lt;br&gt;因为这是我努力挣钱之后，一口我投入了几万元，戴了牙套的牙齿。&lt;br&gt;（父母忽视我成年后的牙齿健康。牙套的钱是我自己出的，小时候父母不给我戴牙套）&lt;/p&gt;
&lt;p&gt;假如再和父母住在一起，我要切除我的前脑叶白质。&lt;br&gt;这样就可以成为一个令父母满意的，只会呵呵笑的，不会反抗的，忠实孝顺的奴仆。&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">http://buyi.dev/2024/gmod-ain/</guid>
            <title>GMod 中 NPC AI 路径 ain 文件版本控制问题</title>
            <link>http://buyi.dev/2024/gmod-ain/</link>
            <category>gmod</category>
            <pubDate>Thu, 12 Dec 2024 14:51:43 +0800</pubDate>
            <description><![CDATA[ &lt;p&gt;半条命2 和 GMod 中的 NPC AI 路径点使用的是 &lt;a href=&#34;https://developer.valvesoftware.com/wiki/Nodegraph&#34;&gt;Nodegraph&lt;/a&gt; 技术，&lt;br&gt;对应的文件是 &lt;a href=&#34;https://developer.valvesoftware.com/wiki/AIN&#34;&gt;.ain&lt;/a&gt; 文件，保存在 &lt;code&gt;maps/graphs&lt;/code&gt; 文件夹里。   &lt;/p&gt;
&lt;p&gt;当游戏觉得 .ain 文件版本和 .bsp 地图版本不对应的时候，游戏就会自动根据地图内的 &lt;code&gt;info_node&lt;/code&gt; 系列实体生成新的 .ain 文件。&lt;br&gt;就是刚刚进入游戏的时候，会看见 &lt;code&gt;Node graph out of date. Rebuilding...&lt;/code&gt; 这句话显示在屏幕上。   &lt;/p&gt;
&lt;p&gt;有一些 mod 作者做的地图没有在地图里放置对应的 node 实体，导致 NPC 无法正常识路。&lt;br&gt;.ain 文件可以脱离于地图内容，直接单独生成。&lt;br&gt;比较好用的 gmod 工具是 &lt;a href=&#34;https://steamcommunity.com/sharedfiles/filedetails/?id=2004023752&#34;&gt;Nodegraph Editor Expansion&lt;/a&gt; 。    &lt;/p&gt;
&lt;p&gt;如果是 workshop 订阅来的 bsp 地图，最简单，&lt;br&gt;只要 .ain 文件存在，它就认。没有文件版本控制问题。   &lt;/p&gt;
&lt;p&gt;如果是裸的 bsp 文件直接放在 maps 文件夹里，&lt;br&gt;gmod 就会以 &lt;strong&gt;文件修改时间&lt;/strong&gt; 为基准，决定是否重新建立。&lt;br&gt;就是这么简单粗暴，我还以为是根据文件内部标注的 hash 决定的，结果只是文件修改时间而已。   &lt;/p&gt;
&lt;p&gt;比如我弄了一个 &lt;code&gt;fff.bsp&lt;/code&gt; ，需要放在服务器 maps 里，它的贴图没有打包进去。&lt;br&gt;我们把贴图一并打包进去，然后做成 &lt;code&gt;fff.bsp.bz2&lt;/code&gt; 放在 CDN 里给玩家下载。   &lt;/p&gt;
&lt;p&gt;这里打包好贴图的 &lt;code&gt;fff.bsp&lt;/code&gt; 的文件修改时间就会是我编辑打包的时间，比如说 12月1日。&lt;br&gt;&lt;code&gt;fff.bsp&lt;/code&gt; 刚好没有 node 实体， &lt;code&gt;fff.ain&lt;/code&gt; 是第三方作者做的，我下载来的文件是 12KB， 3月1日 。&lt;br&gt;我发现一进游戏， gmod 就会自动重建 ain 文件， &lt;code&gt;fff.ain&lt;/code&gt; 就被覆盖成了一个空白文件，只有 16 Bytes 。   &lt;/p&gt;
&lt;p&gt;解决办法有两个：   &lt;/p&gt;
&lt;p&gt;第一，关闭游戏自动重建，在 &lt;code&gt;server.cfg&lt;/code&gt; 或者 &lt;code&gt;autoexec.cfg&lt;/code&gt; 里加入 &lt;code&gt;ai_norebuildgraph 1&lt;/code&gt; 参数。&lt;br&gt;拆开来读就是  &lt;code&gt;ai no rebuild graph&lt;/code&gt;&lt;br&gt;这样就以后全部的地图都不会主动新建 .ain 文件了。&lt;br&gt;对独立服务器来说也还行，因为我们可以用本地单人游戏做好的 .ain 复制到服务器。不需要服务器自己建立。   &lt;/p&gt;
&lt;p&gt;第二，修改文件时间。反正时间只是文件系统给文件打的标签而已。&lt;br&gt;只要让 gmod 觉得这个 .ain 的修改时间晚于 .bsp 的修改时间即可。&lt;br&gt;可以把 .bsp 改早，也可以把 .ain 改晚。&lt;br&gt;我们可以用 Powershell 指令快速改时间：   &lt;/p&gt;
&lt;figure class=&#34;highlight pwsh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs pwsh&#34;&gt;&lt;span class=&#34;hljs-comment&#34;&gt;# 修改为当前电脑时间&lt;/span&gt;&lt;br&gt;(&lt;span class=&#34;hljs-built_in&#34;&gt;Get-Item&lt;/span&gt; &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;.\fff.ain&amp;quot;&lt;/span&gt;).LastWriteTime = (&lt;span class=&#34;hljs-built_in&#34;&gt;Get-Date&lt;/span&gt;) &lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;# 修改为任意指定时间。&lt;/span&gt;&lt;br&gt;(&lt;span class=&#34;hljs-built_in&#34;&gt;Get-Item&lt;/span&gt; &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;.\fff.ain&amp;quot;&lt;/span&gt;).LastWriteTime = (&lt;span class=&#34;hljs-built_in&#34;&gt;Get-Date&lt;/span&gt; &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;2039-12-19&amp;quot;&lt;/span&gt;) &lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;但是不管怎么做，都意味着，我们需要自己备份 .ain 文件，&lt;br&gt;指不定这个游戏又觉得 .bsp 更新了或者没有禁用自动生成参数又给我覆盖了。   &lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">http://buyi.dev/2024/toolbar-app/</guid>
            <title>Buyi Toolbar</title>
            <link>http://buyi.dev/2024/toolbar-app/</link>
            <category>code</category>
            <category>.net</category>
            <pubDate>Fri, 15 Nov 2024 18:10:56 +0800</pubDate>
            <description><![CDATA[ &lt;p&gt;解决 windows 11 砍掉的任务栏-工具栏功能。&lt;br&gt;支持文件夹嵌套。   &lt;/p&gt;
&lt;p&gt;运行库： .NET Framework 4.8   &lt;/p&gt;
&lt;p&gt;启动办法： 把指定文件夹作为启动项参数的第一个。如果带空格需要带双引号。   &lt;/p&gt;
&lt;p&gt;cmd 启动示例：&lt;/p&gt;
&lt;figure class=&#34;highlight cmd&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs cmd&#34;&gt;&lt;span class=&#34;hljs-built_in&#34;&gt;start&lt;/span&gt; &amp;quot;&amp;quot; &amp;quot;BuyiToolbar.exe&amp;quot; &amp;quot;C:\Users\Buyi\Apps&amp;quot;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;源码： &lt;a href=&#34;https://github.com/chenbuyi2019/Buyi-Toolbar&#34;&gt;github&lt;/a&gt;   &lt;/p&gt;
&lt;p&gt;效果截图：&lt;br&gt;&lt;img src=&#34;/image/buyi_toolbar.webp&#34;&gt;  &lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">http://buyi.dev/2024/cs2-console-fix-pos/</guid>
            <title>反恐精英2：控制台飘太远了怎么办</title>
            <link>http://buyi.dev/2024/cs2-console-fix-pos/</link>
            <category>cs2</category>
            <pubDate>Mon, 04 Nov 2024 18:33:15 +0800</pubDate>
            <description><![CDATA[ &lt;p&gt;该死的 Valve ，如果你在使用 Counter-Strike 2 的控制台的时候，&lt;br&gt;不小心拖拽控制台窗口拖到了游戏界面的外面去。&lt;br&gt;尤其是最顶上或者最下面。&lt;br&gt;你就很可能再也拖拽不回来了。    &lt;/p&gt;
&lt;p&gt;解决办法：&lt;br&gt;先关闭游戏，&lt;br&gt;找到自己的 steam 好友编码，&lt;br&gt;然后去 &lt;code&gt;steam安装目录/userdata/好友编码/730/local/cfg&lt;/code&gt; 这个文件夹，&lt;br&gt;找到 &lt;code&gt;cs2_machine_convars.vcfg&lt;/code&gt; 这个配置文件，用代码编辑器或记事本打开。  &lt;/p&gt;
&lt;p&gt;在里面搜索 &lt;code&gt;panorama_console_position_and_size&lt;/code&gt; ，找到后把这一行删掉，保存修改。&lt;br&gt;因为这一行是存储着控制台的位置和大小。   &lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs cfg&#34;&gt;&amp;quot;panorama_console_position_and_size&amp;quot;		&amp;quot;253.20|-22.80|1052.40|300.00&amp;quot;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;现在重启游戏，就是恢复默认的控制台大小了。   &lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">http://buyi.dev/2024/year3/</guid>
            <title>离家出走3.5年的感慨</title>
            <link>http://buyi.dev/2024/year3/</link>
            <category>家庭</category>
            <pubDate>Thu, 03 Oct 2024 20:51:36 +0800</pubDate>
            <description><![CDATA[ &lt;p&gt;不知不觉又过了一年。&lt;br&gt;上一篇： &lt;a href=&#34;/2023/year2/&#34;&gt;离家出走2.5年的感慨&lt;/a&gt;    &lt;/p&gt;
&lt;h1 id=&#34;啃老是不对的&#34;&gt;&lt;a href=&#34;#啃老是不对的&#34; class=&#34;headerlink&#34; title=&#34;啃老是不对的&#34;&gt;&lt;/a&gt;啃老是不对的&lt;/h1&gt;&lt;p&gt;如果这个人要求先打游戏过舒服日子，也不去上班，就靠啃老（生活费）。&lt;br&gt;那大家会嫌弃他，觉得他的父母应该教育他，甚至打他。   &lt;/p&gt;
&lt;p&gt;如果这个人要求先考研读研或者出国留学，也不去上班，就靠啃老（上学的开支）。&lt;br&gt;那大家可能会嫌弃他，觉得他的父母太溺爱，应该让子女自己解决成年毕业后的开支。   &lt;/p&gt;
&lt;p&gt;如果这个人要求先变装和做变性手术，也不去上班，就靠啃老（变性手术费）。&lt;br&gt;大家会说是这个父母不支持子女的理想，是父母想控制子女。   &lt;/p&gt;
&lt;p&gt;说实话我觉得这很搞笑。    &lt;/p&gt;
&lt;h1 id=&#34;注意权力的来源&#34;&gt;&lt;a href=&#34;#注意权力的来源&#34; class=&#34;headerlink&#34; title=&#34;注意权力的来源&#34;&gt;&lt;/a&gt;注意权力的来源&lt;/h1&gt;&lt;p&gt;那些“暴力机构”，比如非正规的矫正机构、网瘾治疗学校、不良少年教育夏令营。&lt;br&gt;或者比如正规的精神病医院强制住院。   &lt;/p&gt;
&lt;p&gt;所有这些“暴力机构”，都有一个前提，就是有人付钱。&lt;br&gt;如果你家人不付钱给这些暴力机构，人家才懒得管你呢。   &lt;/p&gt;
&lt;p&gt;看准了，谁才是你真正的敌人。   &lt;/p&gt;
&lt;p&gt;当然了，很可惜，很多受害者，宁可起诉那些机构那些教官，也不起诉自己父母。   &lt;/p&gt;
&lt;p&gt;新闻：&lt;a href=&#34;https://m.weibo.cn/status/Oyub2hgvP&#34;&gt;被父母送精神病院接收7次电击治疗，一位跨性别者决定起诉医院&lt;/a&gt;   &lt;/p&gt;
&lt;p&gt;我对这个事情的评价是：&lt;br&gt;为什么就不能先养活自己搬出去住，再考虑女装和变性呢？&lt;br&gt;我看见的所有悲伤的例子都是把女装和变性放在前面，养活自己放在后面，&lt;br&gt;住在父母身边还渴望父母供你变性。&lt;br&gt;明知道自己不传统，却又渴求传统的支持。这好吗？   &lt;/p&gt;
&lt;h1 id=&#34;通过“和谈”，我拿到了省会户口&#34;&gt;&lt;a href=&#34;#通过“和谈”，我拿到了省会户口&#34; class=&#34;headerlink&#34; title=&#34;通过“和谈”，我拿到了省会户口&#34;&gt;&lt;/a&gt;通过“和谈”，我拿到了省会户口&lt;/h1&gt;&lt;p&gt;户口都迁出来了，我和我父母都不是一个户口簿的人了。&lt;br&gt;我现在是省会城市的常住人口了，不是乡下来的流动人口了。&lt;br&gt;我有自己一个户口簿，户主就是我自己。&lt;br&gt;以后我就是办身份证、出国、考证甚至结婚都不需要父母同意了。（我不想结婚）   &lt;/p&gt;
&lt;p&gt;我很爱这个城市，&lt;br&gt;在这我有了工作收入，我献过了血，有了积蓄，&lt;br&gt;有了自己的门牌号，有了安全感，&lt;br&gt;还学会了骑自行车和电动车，有了自己的自行车，&lt;br&gt;还参与了政府安排的免费体检。    &lt;/p&gt;
&lt;p&gt;很感谢政府和每个帮助我的人。   &lt;/p&gt;
&lt;p&gt;当然迁户口，是需要拿到老户口簿的，我和我的家人进行了一定程度的“和谈”。&lt;br&gt;在保证了我的绝对安全的情况下，我让他们把户口簿寄过来到代收地址的。&lt;br&gt;我当然不会允许血亲靠近我，他们要是敢来，我就做点不一样的。   &lt;/p&gt;
&lt;p&gt;我的安全屋，永不欢迎任何和我算家属或亲戚的人。   &lt;/p&gt;
&lt;p&gt;而且这让我离家出走的状态产生了一定微妙的变化。&lt;br&gt;我现在住在派出所看过的承认的合法住所里，身份证上都写着我现在住的地方，&lt;br&gt;某种意义上就不是离家出走了，我一直在家。    &lt;/p&gt;
&lt;p&gt;当然我依然会说我现在是离家出走，因为没有家人不能叫家。有了家人就有家庭暴力。   &lt;/p&gt;
&lt;p&gt;我要继续做一个好市民，做好自己应该做的。   &lt;/p&gt;
&lt;h1 id=&#34;注意安全&#34;&gt;&lt;a href=&#34;#注意安全&#34; class=&#34;headerlink&#34; title=&#34;注意安全&#34;&gt;&lt;/a&gt;注意安全&lt;/h1&gt;&lt;p&gt;生命和财产安全是非常重要的。&lt;br&gt;和网友见面的时候要选择有监控的公共场合，比如餐厅、地铁站。   &lt;/p&gt;
&lt;p&gt;不要轻易借给别人钱。如果这个朋友会因为不借钱就嫌弃你，他就不配做你的朋友。&lt;br&gt;反之，如果要找别人借钱，思考一下为什么要给别人添麻烦，这钱是非借不可吗。   &lt;/p&gt;
&lt;p&gt;骗子还是很多的。&lt;br&gt;既然我遇到过，我朋友也遇到过，我们也都损失过。   &lt;/p&gt;
&lt;h1 id=&#34;找工作好难&#34;&gt;&lt;a href=&#34;#找工作好难&#34; class=&#34;headerlink&#34; title=&#34;找工作好难&#34;&gt;&lt;/a&gt;找工作好难&lt;/h1&gt;&lt;p&gt;是啊，好难。如果我突然失业或者辞职，重新开始找工作，也估计很难找到合适的新工作。   &lt;/p&gt;
&lt;p&gt;我有两个好朋友，都是经人介绍去了乡下的地方上班。&lt;br&gt;唉，就是那种只能住宿舍，下班也是只能在厂区及周边的工作。&lt;br&gt;这样，你下班之后可能就会很压抑，你喝个奶茶都可能困难，更别提偶尔想吃顿麦当劳了。    &lt;/p&gt;
&lt;p&gt;虽然说可能是娇生惯养了一点，但是我小时候就住在没有麦当劳，没有大医院，没有方便交通的小县城里。&lt;br&gt;来了大城市我才明白，人不用做那些苦力农活，也是能活得很好的，很幸福的。&lt;br&gt;当你在大城市大医院排队嫌慢的时候，想想那些还有从乡下坐大巴赶上来看病的，你比他们幸福多了。  &lt;/p&gt;
&lt;p&gt;找工作我个人还是觉得，能不跑远就不跑远吧。&lt;br&gt;有的人可能还是更喜欢乡下，那也是可以的，乡村也有乡村的好，比如物价更低房价更低。   &lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">http://buyi.dev/2024/cs2-client-log-parse/</guid>
            <title>反恐精英2：我是怎么掉线的</title>
            <link>http://buyi.dev/2024/cs2-client-log-parse/</link>
            <category>code</category>
            <category>cs2</category>
            <pubDate>Mon, 16 Sep 2024 17:38:58 +0800</pubDate>
            <description><![CDATA[ &lt;p&gt;司马 Valve 给 Counter-Strike 2 更新了个啥玩意之后，玩家从服务器掉线就不知道理由了。&lt;br&gt;本来应该写掉线理由的框变成了个空白框。   &lt;/p&gt;
&lt;p&gt;特地做此工具，用来解析游戏控制台日志，从而知道掉线给的是啥理由。   &lt;/p&gt;
&lt;p&gt;请在掉线后，全选复制你的控制台日志，然后粘贴到这里，并点击解析。  &lt;/p&gt;
&lt;div&gt;

&lt;textarea id=&#34;txtInput&#34;&gt;
&lt;/textarea&gt;

&lt;p&gt;&lt;button id=&#34;btnParse&#34;&gt;解析&lt;/button&gt;&lt;/p&gt;
&lt;div id=&#34;divResult&#34;&gt;
&lt;/div&gt;

&lt;script src=&#34;/script/cs2-client-log-parse.js&#34;&gt;&lt;/script&gt;

&lt;/div&gt;

&lt;p&gt;源码&lt;a href=&#34;https://github.com/chenbuyi2019/blog2309/blob/master/script/cs2-client-log-parse/main.ts&#34;&gt;点我&lt;/a&gt;。   &lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">http://buyi.dev/2024/mulit-cmd/</guid>
            <title>ConEmu: 一次性启动和托管多个控制台程序</title>
            <link>http://buyi.dev/2024/mulit-cmd/</link>
            <category>code</category>
            <pubDate>Sun, 25 Aug 2024 19:15:48 +0800</pubDate>
            <description><![CDATA[ &lt;p&gt;我写了好多软件都是控制台程序，让它们在 windows 任务栏里晃来晃去不是个好主意。&lt;br&gt;在实际工作中，我需要一个软件来托管这些控制台程序。   &lt;/p&gt;
&lt;p&gt;我选择了 &lt;a href=&#34;https://conemu.github.io/&#34;&gt;ConEmu&lt;/a&gt; 来解决这个问题，我用它来实现：   &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;把各个控制台窗口变成标签页&lt;/li&gt;
&lt;li&gt;一次性打开多个控制台程序&lt;/li&gt;
&lt;li&gt;防误触关闭窗口，有个关闭前对话框&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;具体就不展开讲了，非常易用的一个控制台 UI 软件。   &lt;/p&gt;
&lt;p&gt;一次性打开多个控制台程序需要使用以下启动参数：   &lt;/p&gt;
&lt;figure class=&#34;highlight cmd&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs cmd&#34;&gt;ConEmu64.exe -runlist ^&amp;gt;  &lt;span class=&#34;hljs-built_in&#34;&gt;cmd&lt;/span&gt; /k &amp;quot;D:\a.exe&amp;quot; ^|^|^| &lt;span class=&#34;hljs-built_in&#34;&gt;cmd&lt;/span&gt; /k &amp;quot;D:\b.exe&amp;quot; ^|^|^| &lt;span class=&#34;hljs-built_in&#34;&gt;cmd&lt;/span&gt; /k &amp;quot;D:\c.exe&amp;quot;  &lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;&lt;code&gt;cmd /k &lt;/code&gt; 的好处是支持在标签页里 ctrl+C 然后保留这个标签页。   &lt;/p&gt;
&lt;p&gt;或者不套 cmd 来执行   &lt;/p&gt;
&lt;figure class=&#34;highlight cmd&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs cmd&#34;&gt;ConEmu64.exe -runlist ^&amp;gt; &amp;quot;D:\a.exe&amp;quot; ^|^|^| &amp;quot;D:\b.exe&amp;quot; ^|^|^| &amp;quot;D:\c.exe&amp;quot;  &lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;你说为什么不用 Windows Terminal ，答案是服务器的 windows 不方便安装 windows store app  。&lt;br&gt;而且 ConEmu 还支持把现有的控制台窗口 attach 塞进去。   &lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">http://buyi.dev/2024/gmod-lua-utf8sub/</guid>
            <title>GMod Lua utf8.sub 性能问题</title>
            <link>http://buyi.dev/2024/gmod-lua-utf8sub/</link>
            <category>code</category>
            <category>gmod</category>
            <pubDate>Mon, 05 Aug 2024 00:00:00 +0800</pubDate>
            <description><![CDATA[ &lt;p&gt;我本来在做一个简易的日志输出，日志字符串达到一定长度之后，就把字符串裁切只留下后面一半。&lt;br&gt;我不经意间使用了 &lt;code&gt;utf8.sub()&lt;/code&gt; 来裁，然后我发现游戏过程中莫名其妙就卡顿几十秒，然后就恢复，也不像是我哪里有逻辑死循环。&lt;br&gt;经过反复 &lt;code&gt;print()&lt;/code&gt; 来找卡顿的实际位置，我终于找到了原因，就是这个 log 裁切的问题。  &lt;/p&gt;
&lt;p&gt;Gmod Wiki 里说 &lt;a href=&#34;https://wiki.facepunch.com/gmod/utf8.sub&#34;&gt;utf8.sub()&lt;/a&gt; 比较吃性能，不要在逐帧运行的部分里使用。&lt;br&gt;可我没想到你这性能问题这么大啊。   &lt;/p&gt;
&lt;p&gt;下面是测试代码和测试结果：   &lt;/p&gt;
&lt;figure class=&#34;highlight lua&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs lua&#34;&gt;concommand.Add(&lt;br&gt;    &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;test1&amp;quot;&lt;/span&gt;,&lt;br&gt;    &lt;span class=&#34;hljs-function&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;hljs-params&#34;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;local&lt;/span&gt; t1 = SysTime()&lt;br&gt;        &lt;span class=&#34;hljs-built_in&#34;&gt;print&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;start&amp;quot;&lt;/span&gt;)&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;local&lt;/span&gt; str1 = &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;for&lt;/span&gt; i = &lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;, &lt;span class=&#34;hljs-number&#34;&gt;199&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;do&lt;/span&gt;&lt;br&gt;            str1 = str1 .. &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;甲甲甲abc abc== 123456123 甲甲甲 abc 123456123甲甲&amp;quot;&lt;/span&gt;&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;end&lt;/span&gt;&lt;br&gt;&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;local&lt;/span&gt; t2 = SysTime()&lt;br&gt;        &lt;span class=&#34;hljs-built_in&#34;&gt;print&lt;/span&gt;(Format(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;拼字符串 用时 %.3f  文本长度: %d %d&amp;quot;&lt;/span&gt;, t2 - t1, #str1, utf8.&lt;span class=&#34;hljs-built_in&#34;&gt;len&lt;/span&gt;(str1)))&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;local&lt;/span&gt; str2 = &lt;span class=&#34;hljs-built_in&#34;&gt;string&lt;/span&gt;.&lt;span class=&#34;hljs-built_in&#34;&gt;sub&lt;/span&gt;(str1, &lt;span class=&#34;hljs-number&#34;&gt;9999&lt;/span&gt;)&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;local&lt;/span&gt; t3 = SysTime()&lt;br&gt;        &lt;span class=&#34;hljs-built_in&#34;&gt;print&lt;/span&gt;(Format(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;string.sub 用时 %.3f  文本长度: %d&amp;quot;&lt;/span&gt;, t3 - t2, #str2))&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;local&lt;/span&gt; str3 = utf8.&lt;span class=&#34;hljs-built_in&#34;&gt;sub&lt;/span&gt;(str1, &lt;span class=&#34;hljs-number&#34;&gt;5000&lt;/span&gt;)&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;local&lt;/span&gt; t4 = SysTime()&lt;br&gt;        &lt;span class=&#34;hljs-built_in&#34;&gt;print&lt;/span&gt;(Format(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;utf8.sub 用时 %.3f  文本长度: %d&amp;quot;&lt;/span&gt;, t4 - t3, #str3))&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;end&lt;/span&gt;&lt;br&gt;)&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;-- 本地单人游戏 intel i7-12650H&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;-- start&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;-- 拼字符串 用时 0.000  文本长度: 11542 8358&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;-- string.sub 用时 0.000  文本长度: 1544&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;-- utf8.sub 用时 10.642  文本长度: 4637&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;8358 个字符（11542 字节）的字符串裁掉一半就要花 10 秒。&lt;br&gt;这也 tmd 太慢了吧。   &lt;/p&gt;
&lt;p&gt;&lt;code&gt;string.sub()&lt;/code&gt; 是像切割 byte[] 一样切割字符串， &lt;code&gt;utf8.sub()&lt;/code&gt; 是先把字符串拆成一个个 utf8 字符，然后再组。&lt;br&gt;非必要不使用，还是老老实实用 &lt;code&gt;string.sub&lt;/code&gt; 吧，开头有两个乱码字符没什么大不了的（   &lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">http://buyi.dev/2024/cs2-player-states/</guid>
            <title>Counter-Strike 2 玩家进服退服时的状态一览</title>
            <link>http://buyi.dev/2024/cs2-player-states/</link>
            <category>cs2</category>
            <pubDate>Sun, 21 Jul 2024 13:16:06 +0800</pubDate>
            <description><![CDATA[ &lt;p&gt;本文使用的是 CounterStrikeSharp 和 CS2Fixes 搭配进行的研究。&lt;br&gt;用于确定反恐精英2里玩家进出服务器时候的状态。   &lt;/p&gt;
&lt;p&gt;主要还是因为玩家的状态太迷惑了。&lt;br&gt;从连接服务器到进入服务器，再到完成 steam 验证，再到退出服务器，再到重新连接服务器。&lt;br&gt;（玩家退服之后 Controller 实体还在，就很神奇）   &lt;/p&gt;
&lt;p&gt;合理识别这些玩家状态很重要，因为对状态不正常的玩家进行操作会导致出错甚至崩溃。   &lt;/p&gt;
&lt;style&gt;
    .green {
        color: green;
    }
    .red {
        color: red;
    }
&lt;/style&gt;

&lt;p&gt;注意，下表中的 &lt;code&gt;OnClientAuthorized&lt;/code&gt; 的顺序位置仅供参考，因为实际中网络不畅时，玩家验证可能很迟才发生。   &lt;/p&gt;
&lt;table style=&#34;font-size:small;&#34;&gt;
    &lt;thead&gt;
    &lt;tr&gt;
        &lt;td&gt;情况&lt;/td&gt;
        &lt;td&gt;Controller&lt;/td&gt;
        &lt;td&gt;Connected&lt;/td&gt;
        &lt;td&gt;UserId&lt;/td&gt;
        &lt;td&gt;PrintToConsole&lt;/td&gt;
        &lt;td&gt;PlayerPawn&lt;/td&gt;
    &lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody&gt;
    &lt;tr&gt;
        &lt;td&gt;第1次进&lt;br&gt;OnClientConnect&lt;/td&gt;
        &lt;td&gt;null&lt;/td&gt;
        &lt;td&gt;无&lt;/td&gt;
        &lt;td&gt;无&lt;/td&gt;
        &lt;td&gt;不测试&lt;/td&gt;
        &lt;td&gt;null&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;第1次进&lt;br&gt;OnClientConnected&lt;/td&gt;
        &lt;td&gt;Valid&lt;/td&gt;
        &lt;td&gt;PlayerConnecting&lt;/td&gt;
        &lt;td&gt;0&lt;/td&gt;
        &lt;td&gt;OK&lt;/td&gt;
        &lt;td&gt;null&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;第1次进&lt;br&gt;OnClientAuthorized&lt;/td&gt;
        &lt;td&gt;Valid&lt;/td&gt;
        &lt;td&gt;PlayerConnecting&lt;/td&gt;
        &lt;td&gt;0&lt;/td&gt;
        &lt;td&gt;OK&lt;/td&gt;
        &lt;td&gt;null&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;第1次进&lt;br&gt;OnClientPutInServer&lt;/td&gt;
        &lt;td&gt;Valid&lt;/td&gt;
        &lt;td&gt;PlayerConnecting&lt;/td&gt;
        &lt;td&gt;0&lt;/td&gt;
        &lt;td&gt;OK&lt;/td&gt;
        &lt;td&gt;Valid&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;第1次进&lt;br&gt;OnClientPutInServer&lt;br&gt;之后第1帧&lt;/td&gt;
        &lt;td&gt;Valid&lt;/td&gt;
        &lt;td class=&#34;green&#34;&gt;PlayerConnected&lt;/td&gt;
        &lt;td&gt;0&lt;/td&gt;
        &lt;td&gt;OK&lt;/td&gt;
        &lt;td&gt;Valid&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;第1次退&lt;br&gt;OnClientDisconnect&lt;/td&gt;
        &lt;td&gt;Valid&lt;/td&gt;
        &lt;td class=&#34;green&#34;&gt;PlayerConnected&lt;/td&gt;
        &lt;td&gt;0&lt;/td&gt;
        &lt;td&gt;执行，但玩家收不到&lt;/td&gt;
        &lt;td&gt;Valid&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;第1次退&lt;br&gt;OnClientDisconnectPost&lt;/td&gt;
        &lt;td&gt;Valid&lt;/td&gt;
        &lt;td&gt;PlayerDisconnected&lt;/td&gt;
        &lt;td&gt;0&lt;/td&gt;
        &lt;td&gt;执行，但玩家收不到&lt;/td&gt;
        &lt;td&gt;Valid&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;第1次退&lt;br&gt;OnClientDisconnectPost&lt;br&gt;之后第1帧&lt;/td&gt;
        &lt;td&gt;Valid&lt;/td&gt;
        &lt;td&gt;PlayerDisconnected&lt;/td&gt;
        &lt;td&gt;65535&lt;/td&gt;
        &lt;td&gt;执行后服务端崩溃&lt;/td&gt;
        &lt;td&gt;可能是null&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;第2次进&lt;br&gt;OnClientConnect&lt;/td&gt;
        &lt;td&gt;Valid&lt;/td&gt;
        &lt;td&gt;PlayerDisconnected&lt;/td&gt;
        &lt;td&gt;0&lt;/td&gt;
        &lt;td&gt;OK&lt;/td&gt;
        &lt;td&gt;Valid&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;第2次进&lt;br&gt;OnClientConnected&lt;/td&gt;
        &lt;td&gt;Valid&lt;/td&gt;
        &lt;td&gt;PlayerReconnecting&lt;/td&gt;
        &lt;td&gt;0&lt;/td&gt;
        &lt;td&gt;OK&lt;/td&gt;
        &lt;td&gt;Valid&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;第2次进&lt;br&gt;OnClientAuthorized&lt;/td&gt;
        &lt;td&gt;Valid&lt;/td&gt;
        &lt;td&gt;PlayerReconnecting&lt;/td&gt;
        &lt;td&gt;0&lt;/td&gt;
        &lt;td&gt;OK&lt;/td&gt;
        &lt;td&gt;Valid&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;第2次进&lt;br&gt;OnClientPutInServer&lt;/td&gt;
        &lt;td&gt;Valid&lt;/td&gt;
        &lt;td&gt;PlayerReconnecting&lt;/td&gt;
        &lt;td&gt;0&lt;/td&gt;
        &lt;td&gt;OK&lt;/td&gt;
        &lt;td&gt;Valid&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;第2次进&lt;br&gt;OnClientPutInServer&lt;br&gt;之后第1帧&lt;/td&gt;
        &lt;td&gt;Valid&lt;/td&gt;
        &lt;td class=&#34;green&#34;&gt;PlayerConnected&lt;/td&gt;
        &lt;td&gt;0&lt;/td&gt;
        &lt;td&gt;OK&lt;/td&gt;
        &lt;td&gt;Valid&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;第2次退&lt;br&gt;OnClientDisconnect&lt;/td&gt;
        &lt;td&gt;Valid&lt;/td&gt;
        &lt;td class=&#34;green&#34;&gt;PlayerConnected&lt;/td&gt;
        &lt;td&gt;0&lt;/td&gt;
        &lt;td&gt;执行，但玩家收不到&lt;/td&gt;
        &lt;td&gt;Valid&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;第2次退&lt;br&gt;OnClientDisconnectPost&lt;/td&gt;
        &lt;td&gt;Valid&lt;/td&gt;
        &lt;td&gt;PlayerDisconnected&lt;/td&gt;
        &lt;td&gt;0&lt;/td&gt;
        &lt;td&gt;执行，但玩家收不到&lt;/td&gt;
        &lt;td&gt;Valid&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;第2次退&lt;br&gt;OnClientDisconnectPost&lt;br&gt;之后第1帧&lt;/td&gt;
        &lt;td&gt;Valid&lt;/td&gt;
        &lt;td&gt;PlayerDisconnected&lt;/td&gt;
        &lt;td&gt;65535&lt;/td&gt;
        &lt;td&gt;执行后服务端崩溃&lt;/td&gt;
        &lt;td&gt;可能是null&lt;/td&gt;
    &lt;/tr&gt;
    &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;code&gt;PrintToConsole&lt;/code&gt; 的服务端崩溃表现为：   &lt;/p&gt;
&lt;figure class=&#34;highlight cmd&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs cmd&#34;&gt;Fatal error. System.AccessViolationException: Attempted to read or write protected memory. This is often an indication that other memory is corrupt.&lt;br&gt;&lt;br&gt;   &lt;span class=&#34;hljs-built_in&#34;&gt;at&lt;/span&gt; CounterStrikeSharp.API.Core.Helpers.InvokeNative(IntPtr)&lt;br&gt; &lt;br&gt;   &lt;span class=&#34;hljs-built_in&#34;&gt;at&lt;/span&gt; CounterStrikeSharp.API.Core.ScriptContext.InvokeNativeInternal()&lt;br&gt;   &lt;span class=&#34;hljs-built_in&#34;&gt;at&lt;/span&gt; CounterStrikeSharp.API.Core.ScriptContext.Invoke()&lt;br&gt;   &lt;span class=&#34;hljs-built_in&#34;&gt;at&lt;/span&gt; CounterStrikeSharp.API.Core.NativeAPI.PrintToConsole(Int32, System.String)&lt;br&gt;   &lt;span class=&#34;hljs-built_in&#34;&gt;at&lt;/span&gt; CounterStrikeSharp.API.Core.CCSPlayerController.PrintToConsole(System.String)&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;总结：  &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;玩家控制器就算是 &lt;code&gt;.IsValid&lt;/code&gt; ，依然不可靠，需要检测 &lt;code&gt;.Connected&lt;/code&gt; 和 &lt;code&gt;.UserId&lt;/code&gt; 。  &lt;/li&gt;
&lt;li&gt;&lt;code&gt;.PrintToConsole&lt;/code&gt; 需要特别小心的使用，BOT 玩家和离线玩家使用这个函数都会导致崩服。   &lt;/li&gt;
&lt;li&gt;&lt;code&gt;OnClientPutInServer&lt;/code&gt; 可以在大部分情况下使用，作为玩家进服的检测点，但是里面的玩家状态依然不是 &lt;code&gt;PlayerConnected&lt;/code&gt; ，它的下一帧才是。&lt;/li&gt;
&lt;/ol&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">http://buyi.dev/2024/ffmpeg-ps1-source/</guid>
            <title>PowerShell 脚本: ffmpeg 批量压缩音频</title>
            <link>http://buyi.dev/2024/ffmpeg-ps1-source/</link>
            <category>code</category>
            <category>cs2</category>
            <pubDate>Sun, 14 Jul 2024 21:20:03 +0800</pubDate>
            <description><![CDATA[ &lt;p&gt;前置需求：   &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;在环境 PATH 路径里有 &lt;a href=&#34;https://ffmpeg.org/&#34;&gt;ffmpeg&lt;/a&gt; 程序  &lt;/li&gt;
&lt;li&gt;使用 &lt;a href=&#34;https://github.com/PowerShell/PowerShell&#34;&gt;PowerShell 7+&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;我自己是在 Windows 11 运行， Linux 应该也能跑&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;我自己经常会遇到打包在不同文件夹结构里的各式音频文件，&lt;br&gt;需要将它们压缩为统一格式的起源、起源2引擎适用的音频格式。&lt;br&gt;所以写了这个脚本。   &lt;/p&gt;
&lt;p&gt;把需要转换的音频文件放入一个文件夹里，&lt;br&gt;把文件夹路径作为脚本的第一个参数执行。一般就是拖入控制台窗口或者拖到ps1图标上直接执行。&lt;br&gt;压缩好的 MP3 会输出到输入文件夹上层的 compress_xxx 文件夹里。&lt;br&gt;里面的子文件夹结构和文件名会保留下来。   &lt;/p&gt;
&lt;p&gt;不得不说，这一下 shell 语法，一下 c# 语法感觉就是怪。  &lt;/p&gt;
&lt;figure class=&#34;highlight ps1&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;45&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs ps1&#34;&gt;&lt;span class=&#34;hljs-variable&#34;&gt;$dir&lt;/span&gt; = &lt;span class=&#34;hljs-variable&#34;&gt;$args&lt;/span&gt;[&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;]&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-variable&#34;&gt;$ErrorActionPreference&lt;/span&gt; = &lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;Stop&amp;#x27;&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt; (&lt;span class=&#34;hljs-operator&#34;&gt;-not&lt;/span&gt; (&lt;span class=&#34;hljs-built_in&#34;&gt;Test-Path&lt;/span&gt; &lt;span class=&#34;hljs-variable&#34;&gt;$dir&lt;/span&gt; &lt;span class=&#34;hljs-literal&#34;&gt;-PathType&lt;/span&gt; Container)) &amp;#123;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;Write-Error&lt;/span&gt; &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;你输入的文件夹不存在 &lt;span class=&#34;hljs-variable&#34;&gt;$dir&lt;/span&gt;&amp;quot;&lt;/span&gt;&lt;br&gt;&amp;#125;&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-variable&#34;&gt;$dir&lt;/span&gt; = [&lt;span class=&#34;hljs-type&#34;&gt;System.IO.Path&lt;/span&gt;]::GetFullPath(&lt;span class=&#34;hljs-variable&#34;&gt;$dir&lt;/span&gt;)&lt;br&gt;&lt;span class=&#34;hljs-built_in&#34;&gt;Write-Host&lt;/span&gt; &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;输入文件夹 &lt;span class=&#34;hljs-variable&#34;&gt;$dir&lt;/span&gt;&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-variable&#34;&gt;$tm&lt;/span&gt; = &lt;span class=&#34;hljs-built_in&#34;&gt;Get-Date&lt;/span&gt; &lt;span class=&#34;hljs-literal&#34;&gt;-Format&lt;/span&gt; &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;HH-mm-ss&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-variable&#34;&gt;$dir2&lt;/span&gt; = [&lt;span class=&#34;hljs-type&#34;&gt;System.IO.Path&lt;/span&gt;]::Combine(&lt;span class=&#34;hljs-variable&#34;&gt;$dir&lt;/span&gt;, &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;../&amp;quot;&lt;/span&gt;, &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;compress_&lt;span class=&#34;hljs-variable&#34;&gt;$tm&lt;/span&gt;&amp;quot;&lt;/span&gt;)&lt;br&gt;&lt;span class=&#34;hljs-variable&#34;&gt;$dir2&lt;/span&gt; = [&lt;span class=&#34;hljs-type&#34;&gt;System.IO.Path&lt;/span&gt;]::GetFullPath(&lt;span class=&#34;hljs-variable&#34;&gt;$dir2&lt;/span&gt;)&lt;br&gt;&lt;span class=&#34;hljs-built_in&#34;&gt;Write-Host&lt;/span&gt; &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;输出文件夹 &lt;span class=&#34;hljs-variable&#34;&gt;$dir2&lt;/span&gt;&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt; (&lt;span class=&#34;hljs-built_in&#34;&gt;Test-Path&lt;/span&gt; &lt;span class=&#34;hljs-variable&#34;&gt;$dir2&lt;/span&gt; &lt;span class=&#34;hljs-literal&#34;&gt;-PathType&lt;/span&gt; Container) &amp;#123;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;Write-Error&lt;/span&gt; &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;输出文件夹已经存在了，需要更换 &lt;span class=&#34;hljs-variable&#34;&gt;$dir2&lt;/span&gt;&amp;quot;&lt;/span&gt;&lt;br&gt;&amp;#125;&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-variable&#34;&gt;$allowedExt&lt;/span&gt; = &lt;span class=&#34;hljs-selector-tag&#34;&gt;@&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;.wav&amp;quot;&lt;/span&gt;, &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;.mp3&amp;quot;&lt;/span&gt;, &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;.m4a&amp;quot;&lt;/span&gt;, &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;.mp4&amp;quot;&lt;/span&gt;, &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;.ogg&amp;quot;&lt;/span&gt;)&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-variable&#34;&gt;$inputs&lt;/span&gt; = &lt;span class=&#34;hljs-built_in&#34;&gt;Get-ChildItem&lt;/span&gt; &lt;span class=&#34;hljs-variable&#34;&gt;$dir&lt;/span&gt; &lt;span class=&#34;hljs-literal&#34;&gt;-Filter&lt;/span&gt; &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;*&amp;quot;&lt;/span&gt; &lt;span class=&#34;hljs-literal&#34;&gt;-Recurse&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-variable&#34;&gt;$count&lt;/span&gt; = &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;foreach&lt;/span&gt; (&lt;span class=&#34;hljs-variable&#34;&gt;$input&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;hljs-variable&#34;&gt;$inputs&lt;/span&gt;) &amp;#123;  &lt;br&gt;    &lt;span class=&#34;hljs-variable&#34;&gt;$ext&lt;/span&gt; = &lt;span class=&#34;hljs-variable&#34;&gt;$input&lt;/span&gt;.Extension.ToLower()&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt; (!&lt;span class=&#34;hljs-variable&#34;&gt;$allowedExt&lt;/span&gt;.Contains(&lt;span class=&#34;hljs-variable&#34;&gt;$ext&lt;/span&gt;)) &amp;#123; &lt;span class=&#34;hljs-keyword&#34;&gt;continue&lt;/span&gt; &amp;#125;&lt;br&gt;    &lt;span class=&#34;hljs-variable&#34;&gt;$relPath&lt;/span&gt; = [&lt;span class=&#34;hljs-type&#34;&gt;System.IO.Path&lt;/span&gt;]::GetRelativePath(&lt;span class=&#34;hljs-variable&#34;&gt;$dir&lt;/span&gt;, &lt;span class=&#34;hljs-variable&#34;&gt;$input&lt;/span&gt;.FullName)&lt;br&gt;    &lt;span class=&#34;hljs-variable&#34;&gt;$outputFile&lt;/span&gt; = [&lt;span class=&#34;hljs-type&#34;&gt;System.IO.Path&lt;/span&gt;]::Combine(&lt;span class=&#34;hljs-variable&#34;&gt;$dir2&lt;/span&gt;, &lt;span class=&#34;hljs-variable&#34;&gt;$relPath&lt;/span&gt;)&lt;br&gt;    &lt;span class=&#34;hljs-variable&#34;&gt;$outputFile&lt;/span&gt; = [&lt;span class=&#34;hljs-type&#34;&gt;System.IO.Path&lt;/span&gt;]::ChangeExtension(&lt;span class=&#34;hljs-variable&#34;&gt;$outputFile&lt;/span&gt;, &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;.mp3&amp;quot;&lt;/span&gt;)&lt;br&gt;    &lt;span class=&#34;hljs-variable&#34;&gt;$dir3&lt;/span&gt; = [&lt;span class=&#34;hljs-type&#34;&gt;System.IO.Path&lt;/span&gt;]::GetDirectoryName(&lt;span class=&#34;hljs-variable&#34;&gt;$OutputFile&lt;/span&gt;)&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt; (&lt;span class=&#34;hljs-operator&#34;&gt;-not&lt;/span&gt; (&lt;span class=&#34;hljs-built_in&#34;&gt;Test-Path&lt;/span&gt; &lt;span class=&#34;hljs-variable&#34;&gt;$dir3&lt;/span&gt; &lt;span class=&#34;hljs-literal&#34;&gt;-PathType&lt;/span&gt; Container)) &amp;#123;&lt;br&gt;        &lt;span class=&#34;hljs-built_in&#34;&gt;New-Item&lt;/span&gt; &lt;span class=&#34;hljs-variable&#34;&gt;$dir3&lt;/span&gt; &lt;span class=&#34;hljs-literal&#34;&gt;-ItemType&lt;/span&gt; Directory&lt;br&gt;    &amp;#125;&lt;br&gt;    &lt;span class=&#34;hljs-built_in&#34;&gt;Write-Host&lt;/span&gt; &lt;span class=&#34;hljs-variable&#34;&gt;$outputFile&lt;/span&gt; &lt;br&gt;    ffmpeg &lt;span class=&#34;hljs-literal&#34;&gt;-i&lt;/span&gt; &lt;span class=&#34;hljs-variable&#34;&gt;$input&lt;/span&gt;.FullName &lt;span class=&#34;hljs-literal&#34;&gt;-y&lt;/span&gt; &lt;span class=&#34;hljs-literal&#34;&gt;-c&lt;/span&gt;:a libmp3lame &lt;span class=&#34;hljs-literal&#34;&gt;-ar&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;44100&lt;/span&gt; &lt;span class=&#34;hljs-literal&#34;&gt;-b&lt;/span&gt;:a &lt;span class=&#34;hljs-number&#34;&gt;96&lt;/span&gt;k &lt;span class=&#34;hljs-variable&#34;&gt;$outputFile&lt;/span&gt; &lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt; (&lt;span class=&#34;hljs-operator&#34;&gt;-not&lt;/span&gt;(&lt;span class=&#34;hljs-built_in&#34;&gt;Test-Path&lt;/span&gt; &lt;span class=&#34;hljs-variable&#34;&gt;$outputFile&lt;/span&gt; &lt;span class=&#34;hljs-literal&#34;&gt;-PathType&lt;/span&gt; Leaf)) &amp;#123;&lt;br&gt;        &lt;span class=&#34;hljs-built_in&#34;&gt;Write-Error&lt;/span&gt; &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;找不到压缩的音频文件 &lt;span class=&#34;hljs-variable&#34;&gt;$outputFile&lt;/span&gt;&amp;quot;&lt;/span&gt;&lt;br&gt;    &amp;#125;&lt;br&gt;    &lt;span class=&#34;hljs-variable&#34;&gt;$count&lt;/span&gt; += &lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;&lt;br&gt;&amp;#125;&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-built_in&#34;&gt;Write-Host&lt;/span&gt; &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;工作完成，一共 &lt;span class=&#34;hljs-variable&#34;&gt;$count&lt;/span&gt; 个文件 &amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-built_in&#34;&gt;Write-Host&lt;/span&gt; &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;输出文件夹 &lt;span class=&#34;hljs-variable&#34;&gt;$dir2&lt;/span&gt;&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;# 批量修改音量： -filter: &amp;quot;volume = 8dB&amp;quot;  &lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
 ]]></description>
        </item>
    </channel>
</rss>
